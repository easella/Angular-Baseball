<!DOCTYPE html>
<script>
    window.log = function() {
        console.log.apply(console, arguments);
    };
</script>
<html>
    <head>
        <meta charset="utf-8">
        <title>野球愛好会</title>
        <script src="js/external/angular/angular.js"></script>
        <script src="js/external/jquery/jquery-1.10.2.min.js"></script>

        <script src="js/internal/application.js"></script>

        <link rel="shortcut icon" href="yakk.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="css/internal/application.css">
        <link href="css/external/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <style>
            @-webkit-keyframes spin {
                from {
                    -webkit-transform: rotate(0deg);
                }
                to {
                    -webkit-transform: rotate(360deg);
                }
            }
            @keyframes spin {
                from {
                    -ms-transform: rotate(0deg);
                    transform: rotate(360deg);
                }
                to {
                    -ms-transform: rotate(0deg);
                    transform: rotate(360deg);
                }
            }
            @-webkit-keyframes flight {
                0% {
                }
                25% {
                }
                50% {
                }
                75% {
                }
                100% {
                }
            }
            @keyframes flight {
                0% {
                }
                25% {
                }
                50% {
                }
                75% {
                }
                100% {
                }
            }
        </style>
    </head>
    <body class='blue'>
        <div class='container' ng-app='YakyuuAikoukai' ng-controller='IndexController'>
            <div class='blocking instructions' ng-click="proceedToGame()">
                <div class='row'>
                    <div class='col-md-4'>
                        <p>When pitching, click to throw. A crudely css'd wheel of cheese in side profile
                            which is actually representing a bat will indicate where the opponent swung
                            while the cross-section of a candy cane which is really a ball will indicate
                            where the ball was thrown (transparent) and where it broke (opaque).</p>
                    </div>
                    <div class="no-swing col-md-4">
                        <div class="target {{y.stage}}">
                            <div class='indicator baseball pitch' style='top:125px;left:155px;'></div>
                            <div class='indicator baseball break' style='top:125px;left:125px;'></div>
                            <div class='indicator swing' style='top:100px;left:100px;'></div>
                            <div class='strikezone'></div>
                        </div>
                    </div>
                    <div class='col-md-4'>
                        <p>
                            You can call for a different pitch by clicking on the pitch name in the pitching data display
                            in the lower left.
                        </p>
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-4'>
                        <p>When batting, you'll see a ball with a shadow indicating the direction it broke from.
                        Click inside the strike or ball zone to swing, or click on the side to the left or right of the ball zone to hold up (not swing).</p>
                    </div>
                    <div class="no-swing col-md-4">
                        <div class="target {{y.stage}}">
                            <div class='indicator baseball pitch' style='top:125px;left:155px;'></div>
                            <div class='indicator baseball break' style='top:145px;left:135px;'></div>
                            <div class='strikezone'></div>
                        </div>
                    </div>
                </div>
                <div>
                    <em>Click anywhere to continue</em>
                </div>
            </div>
            <div scoreboard='' game='y' text='t'></div>
            <div class='main-area noselect row'>
                <div class='row'>
                    <div class='col-md-4 background-color visible-lg visible-md'>
                        <!--<div ng-repeat='(key, val) in y.swingResult'>-->
                            <!--{{key}} : {{val}}-->
                        <!--</div>-->
                        <ul class="list-group pitch-record">
                            <li class='list-group-item' ng-repeat="event in y.log.pitchRecord track by $index">
                                <strong ng-if="$index == 0">
                                    {{event}}
                                </strong>
                                <span ng-if="$index">
                                    {{event}}
                                </span>
                            </li>
                        </ul>
                    </div>
                    <div class='col-md-4'>
                        <div class="no-swing" ng-click="indicate($event)">
                            <div class="target {{y.stage}}" ng-class='{batting: y.humanBatting(), pitching: y.humanPitching()}'>
                                <div class='indicator baseball pitch hide'></div>
                                <div class='indicator baseball break hide'></div>
                                <div class='indicator swing {{y.swingResult.looking ? "hide" : ""}}' style='top:{{200-y.pitchInFlight.y + y.swingResult.y}}px;left:{{y.pitchInFlight.x + y.swingResult.x}}px;'></div>
                                <div class='strikezone' ng-class='{batting: y.humanBatting(), pitching: y.humanPitching()}'></div>
                            </div>
                        </div>
                        <div>
                            <div class="list-group-item umpire">
                                {{y.umpire.says}}
                            </div>
                            <div class='list-group-item'>
                                {{y.stage == 'swing' ? 'Batting, ' + y.battersEye : ''}}
                                {{y.stage == 'pitch' ? ('Catching : ' + y.pitchInFlight.name + ' selected.') : ''}}
                            </div>
                        </div>
                    </div>
                    <div class='col-md-4 background-color visible-lg visible-md'>
                        <ul class="list-group play-record">
                            <li class='list-group-item' ng-repeat="event in y.log.shortRecord track by $index">
                                <strong ng-if="$index == 0">
                                    {{event}}
                                </strong>
                                <span ng-if="$index">
                                    {{event}}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class='row list-group-item'>
                <div class='col-lg-6'>
                    <div>
                        <div class='row list-group-item'>
                            <div class='col-lg-6'>
                                <em>{{y.pitcher.throws == 'right' ? 'RHP' : 'LHP'}}</em> <strong>{{y.pitcher.getName()}}</strong> ({{y.pitcher.number}}) &raquo; {{rate(y.batter.skill.pitching)}}
                            </div>
                            <div class='col-lg-6'>
                                <em>C</em> <strong>{{y.pitcher.team.positions.catcher.getName()}}</strong> ({{y.pitcher.team.positions.catcher.number}}) &raquo; {{rate(y.pitcher.team.positions.catcher.skill.defense.catching)}}
                            </div>
                        </div>
                        <div class='row'></div>
                        <div>
                            <table class='list-group-item table table-condensed'>
                                <thead>
                                    <tr>
                                        <th>Pitch</th>
                                        <th class='pointer' ng-repeat='(name, pitch) in y.pitcher.pitching'>
                                            <span ng-click="selectPitch(name)">{{name}}</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Control</td><td ng-repeat='(name, pitch) in y.pitcher.pitching'>{{rate(pitch.control)}}</td>
                                    </tr>
                                    <tr>
                                        <td>Velocity</td><td ng-repeat='(name, pitch) in y.pitcher.pitching'>{{rate(pitch.velocity)}}</td>
                                    </tr>
                                    <tr>
                                        <td>Break</td><td ng-repeat='(name, pitch) in y.pitcher.pitching'>{{rate(pitch.break)}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class='col-lg-6 list-group-item'>
                    <div class='row'>
                        <div class='col-lg-6'>
                            <div>
                                <strong>{{y.batter.getName()}}</strong> ({{y.batter.number}}) - <em>{{abbreviatePosition(y.batter.position)}}, {{y.batter.bats == 'left' ? 'LHB' : 'RHB'}}</em>
                            </div>
                            <div>
                                Eye : {{rate(y.batter.skill.offense.eye)}}
                            </div>
                            <div>
                                Power : {{rate(y.batter.skill.offense.power)}}
                            </div>
                            <div>
                                Speed : {{rate(y.batter.skill.offense.speed)}}
                            </div>
                            <div>
                                - {{y.batter.atBats.join(', ')}} -
                            </div>
                        </div>
                        <div class='col-lg-6'>
                            <div>
                                On Deck : <strong>{{y.deck.getName()}}</strong> ({{y.deck.number}}) - {{abbreviatePosition(y.deck.position)}}, {{y.batter.bats == 'left' ? 'LHB' : 'RHB'}}
                            </div>
                            <div>
                                Eye : {{rate(y.deck.skill.offense.eye)}}
                            </div>
                            <div>
                                Power : {{rate(y.deck.skill.offense.power)}}
                            </div>
                            <div>
                                Speed : {{rate(y.deck.skill.offense.speed)}}
                            </div>
                            <div>
                                - {{y.deck.atBats.join(', ')}} -
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class='block col-lg-12 hidden-lg hidden-md'>
                <ul class="list-group pitch-record col-lg-6">
                    <li class='list-group-item' ng-repeat="event in y.log.pitchRecord track by $index">
                        {{event}}
                    </li>
                </ul>
                <ul class="list-group pitch-record col-lg-6">
                    <li class='list-group-item' ng-repeat="event in y.log.shortRecord track by $index">
                        {{event}}
                    </li>
                </ul>
            </div>
            <div class='clear'></div>
            <div class='col-lg-12'>
                <ul class='list-group col-lg-6'>
                    <li class='list-group-item'>
                        {{y.teams.away.getName()}}
                    </li>
                    <li class='list-group-item' ng-repeat="(order, player) in y.teams.away.lineup track by $index">
                        {{abbreviatePosition(player.position)}} <strong>{{player.getName()}}</strong> (#{{player.number}})
                        B/T: {{player.bats == 'left' ? 'L' : 'R'}}/{{player.throws == 'left' ? 'L' : 'R'}}
                        <span class='pull-right'>
                            {{player.atBats.length ? ' ' + player.atBats.join(', ') : ''}} <em>{{order == player.team.nowBatting ? ' - Up to Bat' : ''}}</em>
                        </span>
                    </li>
                </ul>
                <ul class='list-group col-lg-6'>
                    <li class='list-group-item'>
                        {{y.teams.home.getName()}}
                    </li>
                    <li class='list-group-item' ng-repeat="(order, player) in y.teams.home.lineup track by $index">
                        {{abbreviatePosition(player.position)}} <strong>{{player.getName()}}</strong> (#{{player.number}})
                        B/T: {{player.bats == 'left' ? 'L' : 'R'}}/{{player.throws == 'left' ? 'L' : 'R'}}
                        <span class='pull-right'>
                            {{player.atBats.length ? ' ' + player.atBats.join(', ') : ''}} <em>{{order == player.team.nowBatting ? ' - Up to Bat' : ''}}</em>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>
