<!DOCTYPE html>
<script>
    window.log = function() {
        console.log.apply(console, arguments);
    };
</script>
<html>
<head>
    <meta charset='utf-8'>
    <title>野球愛好会</title>
    <script src='public/js/vendor.min.js'></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>

    <script src='public/js/application.js'></script>
    <!--<script src='js/application.min.js'></script>-->

    <link rel='shortcut icon' href='public/yakk.ico'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' type='text/css' href='public/css/bootstrap.min.css' >
    <link rel='stylesheet' type='text/css' href='public/css/application.css'>

    <style>
        @-webkit-keyframes spin {
            from {
                -webkit-transform: rotate(0deg) translateZ(0);
            }
            to {
                -webkit-transform: rotate(360deg) translateZ(0);
            }
        }
        @keyframes spin {
            from {
                -ms-transform: rotate(0deg) translateZ(0);
                transform: rotate(0deg) translateZ(0);
            }
            to {
                -ms-transform: rotate(360deg) translateZ(0);
                transform: rotate(360deg) translateZ(0);
            }
        }
    </style>
</head>
<body class='blue' id='override'>
<div class='container' ng-app='YakyuuAikoukai' ng-controller='IndexController'>
    <div class='blocking instructions'>
        <section class='row'>
            <div class='col-md-4'></div>
            <div class='col-md-4 language-select'>
                <span>
                    {{ t('Select Language:') }} &nbsp;
                </span>
                <button class='btn pointer' ng-click='mode("e"); $event.stopPropagation()'>
                    English
                </button>
                <button class='btn pointer' ng-click='mode("n"); $event.stopPropagation()'>
                    日本語
                </button>
            </div>
            <div class='col-md-4'></div>
        </section>
        <br/>
        <div class='row'>
            <div class='col-md-4'>
                <p ng-show='mode() == "e"'>
                    When catching, click in the strike/ball zone to locate a pitch. A crudely css'd wheel of cheese in side profile
                    which is actually representing a bat will indicate where the opponent swung
                    while the cross-section of a candy cane which is really a ball will indicate
                    where the ball was thrown (transparent) and where it broke (opaque).
                </p>
                <p ng-show='mode() == "n"'>
                    守備でのは捕手役でプレーを行う。ストライクゾーンにクリックすると、投手を狙い投げさせる。微妙にチーズに見えるんだけど、実はバットが
                    現れるところがバッターの振り。透明なボールは狙った投球、不透明なのは変化を示す。
                </p>
            </div>
            <div class="no-swing col-md-4">
                <div class="target {{y.stage}}">
                    <div class='indicator baseball pitch' style='top:125px;left:155px;'></div>
                    <div class='indicator baseball break' style='top:145px;left:125px;'></div>
                    <div class='indicator swing right' style='top:110px;left:140px; transform: rotate(20deg);'></div>
                    <div class='strikezone'></div>
                </div>
            </div>
            <div class='col-md-4'>
                <p ng-show='mode() == "e"'>
                    You can call for a different pitch by clicking on the pitch name in the pitching data display
                    in the lower left or below the strike zone indicator.
                </p>
                <p ng-show='mode() == "n"'>
                    ストライクゾーンの下に投手のどの球で挑戦することも選択できる。
                </p>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-4'>
                <p ng-show='mode() == "e"'>
                    When batting, you'll see a ball...
                    Click inside the strike or ball zone to swing, or don't click to hold up (not swing) and try to draw a walk or wait for a better pitch.
                </p>
                <p ng-show='mode() == "n"'>
                    攻撃でのはバッター役を次々務める。投球が飛んでくるときにストライクゾーンにクリックすれば、バットを振る。しない場合は見送る。打てる球待つんだ！
                </p>
            </div>
            <div class="no-swing col-md-4">
                <div class="target {{y.stage}}">
                    <div class='indicator baseball pitch' style='top:125px;left:155px;'></div>
                    <div class='indicator baseball break' style='top:145px;left:135px;'></div>
                    <div class='strikezone'></div>
                </div>
            </div>
            <div class='col-md-4'>
                <p ng-show='mode() == "e"'>
                    To restart into a new game simply reload the page. You can also share the URL of your game to play against a friend. This
                    may not be available depending on server status.
                </p>
                <p ng-show='mode() == "n"'>
                    新しい試合を再開したいときにウエブページをリロードしてください。一人の友達も同じURLに誘えば、相手としては勤められています。
                </p>
            </div>
        </div>
        <section class='row options'>
            <div class='col-md-12'>
                <button ng-click="proceedToGame(); $event.stopPropagation()" class='btn pointer'>
                    {{ t('Play Ball!') }}
                </button>
                <button ng-click="proceedToGame(false, true); $event.stopPropagation()" class='btn pointer'>
                    {{ t('Spectate the CPU') }}
                </button>
                <button ng-click='proceedToGame(true, true); $event.stopPropagation()' class='btn pointer'>
                    {{ t('Run Fast Simulation') }} &raquo;
                </button>
                <button ng-click='proceedToGame(7); $event.stopPropagation()' class='btn pointer'>
                    {{ t('Play from the 7th') }} &raquo;
                </button>
            </div>
        </section>

    </div>
    <div scoreboard='' game='y' text='t'></div>
    <hr>
    <div class='diamond-display row'>
        <div class='col-md-4 language-select'>
            <div class='pull-right'>
                <strong class='pointer' ng-show='mode() == "e"'>English</strong>
                <em class='pointer' ng-click='mode("e")' ng-show='mode() != "e"'>English</em>
                <br>
                <strong class='pointer' ng-show='mode() == "n"'>日本語</strong>
                <em class='pointer' ng-click='mode("n")' ng-show='mode() != "n"'>日本語</em>
            </div>
        </div>
        <div class='col-md-4'>
            <div class='splay-indicator-wrapper'>
                <div class='splay-indicator'>
                    <div class='splay-indicator-ball' ng-show='y.swingResult.contact'
                         ng-style='{
                                    bottom: y.swingResult.bottom,
                                    left: y.swingResult.left
                                }'>
                    </div>
                </div>
            </div>
            <aside class='left image-panel' ng-style='{ backgroundImage: imagePanel.left }'></aside>
            <aside class='right image-panel' ng-style='{ backgroundImage: imagePanel.right }'></aside>
        </div>
        <div class='col-md-4'></div>
    </div>
    <hr>
    <div class='main-area noselect row'>
        <field field=''>

        </field>
        <div class='row'>
            <div class='col-md-4 background-color visible-lg visible-md'>
                <!--<div ng-repeat='(key, val) in y.swingResult'>-->
                <!--{{key}} : {{val}}-->
                <!--</div>-->
                <ul class="list-group pitch-record">
                    <li class='list-group-item' ng-repeat="event in y.log.pitchRecord[mode()] track by $index">
                        <strong ng-if="$index == 0">
                            {{event}}
                        </strong>
                        <span ng-if="$index">
                            {{event}}
                        </span>
                    </li>
                </ul>
            </div>
            <div class='col-md-4'>
                <div class='opponent-indicator' ng-show='y.opponentConnected'>
                    <em>{{ t('Opponent connected') }}</em>
                </div>
                <div class='windup' ng-show='!y.opponentConnected' ng-class='{winding: y.humanControl == "none" || (y.humanBatting() && !y.humanPitching())}'>
                </div>
                <div class="no-swing" ng-click="indicate($event)">
                    <div class="target live {{y.stage}}" ng-class='{batting: y.humanBatting(), pitching: y.humanPitching()}'>
                        <div class='indicator baseball pitch hide'></div>
                        <div class='indicator baseball break hide'></div>
                        <div class='indicator swing'
                             ng-style='{
                                    top: 200-y.pitchInFlight.y-y.swingResult.y + "px",
                                    left: y.pitchInFlight.x + y.swingResult.x + "px",
                                    transform: "rotate(" + y.swingResult.angle + "deg) rotateY("+(y.batterRunner.bats == "left" ? 12 : -12)+"deg)"
                                }'
                             ng-class='{
                                 left: y.batterRunner.bats == "left",
                                 right: y.batterRunner.bats == "right",
                                 hide: y.humanBatting() || y.swingResult.looking
                             }'>
                        </div>
                        <div class='indicator swing stance-indicator'
                             ng-class='{
                                left: y.batter.bats == "left",
                                right: y.batter.bats == "right",
                                hide: !y.humanBatting()
                             }'>
                        </div>
                        <div class='indicator glove stance-indicator hide'
                             ng-class='{
                                left: y.pitcher.team.positions.catcher.throws == "left",
                                right: y.pitcher.team.positions.catcher.throws == "right",
                                hide: !y.humanPitching()
                             }'>
                        </div>
                        <div class='strikezone' ng-class='{batting: y.humanBatting(), pitching: y.humanPitching()}'></div>
                    </div>
                </div>
                <div class='centered'>
                    <div class='batter-stats' ng-class='{"lefty": y.batter.bats == "left", "righty": y.batter.bats == "right"}'>
                        <span ng-show='y.batter.bats==="left"'>{{ t('LHB') }}</span>
                        <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ y.batter.skill.offense.eye/120+")"}'></span>
                        <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ y.batter.skill.offense.power/120+")"}'></span>
                        <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ y.batter.skill.offense.speed/120+")"}'></span>
                        <span ng-show='y.batter.bats==="right"'>{{ t('RHB') }}</span>
                    </div>
                    <div class='visible-sm visible-xs'>
                        {{ y.log.pitchRecord[mode()][0] }}
                    </div>
                    <div class="list-group-item umpire">
                        Umpire: {{y.umpire.says}}
                    </div>
                </div>
                <div class='chalklines'>
                    <!--<span class='homeplate'></span>-->
                </div>
            </div>
            <div class='col-md-4 background-color visible-lg visible-md'>
                <ul class="list-group play-record">
                    <li class='list-group-item' ng-repeat="event in y.log.shortRecord[mode()] track by $index">
                        <strong ng-if="$index == 0">
                            {{event}}
                        </strong>
                        <span ng-if="$index">
                            {{event}}
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <hr>
    <ul class='centered list-inline pitch-selection'>
        <li class='pointer' ng-repeat='(name, pitch) in y.pitcher.pitching'>
            <span ng-click="y.humanPitching() && selectPitch(name)">
                <strong ng-show='y.pitchInFlight.name == name'>{{ t(name) }}</strong>
                <em ng-show='y.pitchInFlight.name != name'>{{ t(name) }}</em>
                <br>
                <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ pitch.control/120+")"}'></span>
                <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ pitch.velocity/120+")"}'></span>
                <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ pitch.break/120+")"}'></span>
            </span>
        </li>
        <br class='visible-xs'/>
        <li class='pitch-selection-label'>
            {{ t('Control') }} / {{ t('Velocity') }} / {{ t('Break') }}
        </li>
    </ul>
    <hr/>
    <div class='row'>
        <batters batters='' class='batter-data col-sm-6' ng-show='y.half === "top"'>
        </batters>
        <battery battery='' class='pitcher-data col-sm-6' ng-show='y.half === "top"'>
        </battery>

        <battery battery='' class='pitcher-data col-sm-6' ng-show='y.half === "bottom"'>
        </battery>
        <batters batters='' class='batter-data col-sm-6' ng-show='y.half === "bottom"'>
        </batters>
    </div>
    <hr/>
    <div class='block stabilized col-lg-12 hidden-lg hidden-md'>
        <ul class="list-group pitch-record col-xs-6">
            <li class='list-group-item' ng-repeat="event in y.log.stabilized.pitchRecord[mode()] track by $index">
                {{event}}
            </li>
        </ul>
        <ul class="list-group pitch-record col-xs-6">
            <li class='list-group-item' ng-repeat="event in y.log.stabilized.shortRecord[mode()] track by $index">
                {{event}}
            </li>
        </ul>
        <hr/>
    </div>
    <div class='clear'></div>
    <div class='col-lg-12'>
        <ul class='list-group col-lg-6' ng-repeat='team in [y.teams.away, y.teams.home] track by $index'>
            <li class='list-group-item'>
                {{team.getName()}}
            </li>
            <li class='list-group-item pointer' ng-repeat="(order, player) in team.lineup track by $index"
                ng-click='player.team.expanded = player.team.expanded == player ? null : player'>
                {{abbreviatePosition(player.position)}}<span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ player.skill.defense.fielding/120+")"}'></span> &raquo;
                <strong>{{player.getName()}}</strong> ({{'#'+player.number}}) <span ng-if='player.hero' class='glyphicon glyphicon-chevron-up'></span>
                <span class='pull-right'>
                    <span class='at-bat' ng-repeat='atBat in player.getAtBats() track by $index'>
                        <strong ng-show='atBat.beneficial'>{{ atBat + '' }}</strong>
                        <span ng-show='!atBat.beneficial'>{{ atBat + '' }}</span>
                    </span>
                    <em>{{order == player.team.nowBatting ? ' - ' + t('Up to Bat') : ''}}</em>
                </span>
                <section ng-if='player.team.expanded == player'>
                    <div class='visible-md-inline visible-lg-inline'>
                        {{ t('Throws/Bats') }} {{t(player.throws == 'left' ? 'L' : 'R ')}}{{t.slash()}}{{t(player.bats == 'left' ? ' L ' : ' R ')}}
                    </div>
                    <ul class='list-inline personal-stats row' ng-init='stats = player.stats.batting'>
                        <li class='col-md-1'></li>
                        <li class='col-md-3'>{{ t('BA') }} <br> {{ stats.ba | number:3 }} ({{ stats.getBA() | number:3 }})</li>
                        <li class='col-md-1'>{{ t('OBP') }} <br> {{ stats.getOBP() | number:3 }}</li>
                        <li class='col-md-1'>{{ t('SLG') }} <br> {{ stats.getSLG() | number:3 }}</li>
                        <li class='col-md-1'>{{ t('PA') }} <br> {{ stats.pa }}</li>
                    </ul>
                    <hr/>
                    <ul class='list-inline personal-stats row'>
                        <li class='col-md-1'></li>
                        <li class='col-md-3'>{{ t('H/2B/3B/HR') }} <br> {{ stats.h }} - {{ stats['2b'] }} - {{ stats['3b'] }} - {{ stats.hr }}</li>
                        <li class='col-md-1'>{{ t('RBI') }} <br> {{ stats.rbi }}</li>
                        <li class='col-md-1'>{{ t('R') }} <br> {{ stats.r }}</li>
                        <li class='col-md-1'>{{ t('BB') }} <br> {{ stats.bb }}</li>
                        <li class='col-md-1'>{{ t('SO') }} <br> {{ stats.so }}</li>
                    </ul>
                    <span>
                        {{ t('Eye :') }} <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ player.skill.offense.eye/120+")"}'></span>
                    </span>
                    <span>
                        {{ t('Power :') }} <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ player.skill.offense.power/120+")"}'></span>
                    </span>
                    <span>
                        {{ t('Speed :') }} <span class='rating-block' ng-style='{backgroundColor: "rgba(0,0,0,"+ player.skill.offense.speed/120+")"}'></span>
                    </span>
                </section>
            </li>
        </ul>
    </div>
    <div class='block col-lg-12' ng-if='y.stage == "end"'>
        <ul class="list-group pitch-record col-xs-12">
            <li class='list-group-item' ng-repeat="event in y.log.record[mode()] track by $index">
                {{event}}
            </li>
        </ul>
    </div>
</div>
</body>
</html>
